<!DOCTYPE html>
<html lang="es">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pasha - Personal Assistant (Tailwind)</title>
    <meta name="title" content="Pasha - Personal Assistant (Tailwind)" />
    <meta name="description" content="Pasha, your personal assistant with a new Tailwind CSS interface." />
    <meta name="robots" content="index, follow">
    <meta name="keywords" content="Pasha, Assistant, Chatbot, Tailwind CSS, Capacitor">

    <link rel="icon" type="image/png" href="assets/img/favicon/favicon.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
    <link rel="stylesheet" href="assets/css/elevenlabs.css"> <!-- Kept for ElevenLabs specific styling, review if conflicts arise -->
    <link rel="stylesheet" href="assets/css/settings-modal.css"> <!-- Added for settings modal styling -->
    <link rel="stylesheet" href="assets/css/scheduler-modal.css"> <!-- Added for scheduler modal styling -->
    <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Amaranth:ital,wght@0,400;0,700;1,400;1,700&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.min.js" integrity="sha256-eTyxS0rkjpLEo16uXTS0uVCS4815lc40K2iVpWDvdSY=" crossorigin="anonymous"></script>
    <script src="assets/js/popper.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script> <!-- Included for compatibility with existing JS that might use it -->
    <script src="https://unpkg.com/masonry-layout@4.2.2/dist/masonry.pkgd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js"></script>
    <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>

    <style>
        /* Custom scrollbar for chat (optional, but nice) */
        .chat-scrollbar::-webkit-scrollbar {
            width: 8px;
        }
        .chat-scrollbar::-webkit-scrollbar-track {
            background: transparent;
        }
        .chat-scrollbar::-webkit-scrollbar-thumb {
            background: #4a5568; /* gray-700 */
            border-radius: 4px;
        }
        .chat-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #2d3748; /* gray-800 */
        }

        /* Basic body styling */
        body {
            font-family: 'Open Sans', sans-serif;
            /* Ensure no default margin/padding interferes with full-screen layout */
            margin: 0;
            padding: 0;
            overflow-x: hidden; /* Prevent horizontal scroll on body */
        }
        .font-amaranth {
            font-family: 'Amaranth', sans-serif;
        }

        /* Placeholder for hero_bg1 - replace with your actual image or gradient */
        .hero_bg1_tailwind {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); /* Example gradient */
        }

        /* Placeholder for dotbg - replace with your actual dot pattern or background */
        .dotbg_tailwind {
            background-color: #1a202c; /* Example dark background */
            /* background-image: radial-gradient(#4a5568 1px, transparent 1px); Example dot pattern */
            /* background-size: 10px 10px; */
        }

        /* Specific styling for Pasha logo text if needed */
        .pashaLogoText {
            font-family: 'Amaranth', sans-serif;
            font-weight: 700;
            font-size: 1.75rem; /* Equivalent to h4 or a bit larger */
            color: white;
        }

        /* Custom styling for the clear chat button to position it */
        #chat-messages {
            position: relative; /* Needed for absolute positioning of the button */
        }
        .clear-chat-button {
            position: absolute;
            top: 1rem; /* 16px */
            right: 1rem; /* 16px */
            z-index: 10; /* Ensure it's above chat messages */
        }

        /* Chat Bubble Styles */
        .msg {
            display: flex;
            align-items: flex-end; /* Align items to the bottom for better bubble appearance */
            margin-bottom: 1rem; /* Space between messages */
        }

        .msg-img {
            width: 40px; /* Avatar size */
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 0.75rem; /* Space between avatar and bubble */
            margin-left: 0.75rem; /* Space for right-aligned messages */
        }

        .msg-bubble {
            max-width: 70%; /* Max width of the bubble */
            padding: 0.75rem 1rem; /* Padding inside the bubble */
            border-radius: 1.25rem; /* Bubble border radius */
            word-wrap: break-word; /* Break long words */
            box-shadow: 0 2px 5px rgba(0,0,0,0.1); /* Subtle shadow */
        }

        .left-msg .msg-bubble {
            background-color: #e5e7eb; /* Tailwind gray-200 for received messages */
            color: #1f2937; /* Tailwind gray-800 */
            border-bottom-left-radius: 0.25rem; /* Flat bottom-left for "tail" effect */
        }
        .left-msg .msg-img {
            margin-right: 0.75rem;
            margin-left: 0;
        }


        .right-msg {
            flex-direction: row-reverse; /* Align user messages to the right */
        }

        .right-msg .msg-bubble {
            background-color: #667eea; /* Pasha-blue for sent messages */
            color: white;
            border-bottom-right-radius: 0.25rem; /* Flat bottom-right for "tail" effect */
        }
        .right-msg .msg-img {
            margin-left: 0.75rem;
            margin-right: 0;
        }


        .msg-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 0.25rem; /* Space above timestamp/name */
            font-size: 0.75rem; /* Smaller text for info */
            color: #6b7280; /* Tailwind gray-500 */
        }
        .right-msg .msg-info {
             justify-content: flex-end;
        }
        .left-msg .msg-info {
            margin-left: calc(40px + 0.75rem); /* Align with bubble, considering avatar and margin */
        }
        .right-msg .msg-info {
             margin-right: calc(40px + 0.75rem); /* Align with bubble, considering avatar and margin */
        }

        .msg-info-name {
            font-weight: 600; /* Semi-bold name */
            margin-right: 0.5rem;
        }
        .right-msg .msg-info-name {
            margin-left: 0.5rem;
            margin-right: 0;
        }

        .msg-info-time {
            /* Timestamp styling */
            font-size: 0.7rem; /* Slightly smaller than other info text */
            color: #a0aec0; /* Tailwind gray-500, slightly lighter */
        }
    </style>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              'open-sans': ['"Open Sans"', 'sans-serif'],
              'amaranth': ['"Amaranth"', 'sans-serif'],
            },
            colors: {
              'pasha-blue': '#667eea',
              'pasha-purple': '#764ba2',
              'pasha-dark': '#1a202c',
              'pasha-gray': '#2d3748',
              'pasha-light-gray': '#4a5568',
            }
          }
        }
      }
    </script>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 antialiased">

<div class="bot_load fixed inset-0 bg-pasha-dark/90 backdrop-blur-sm flex flex-col items-center justify-center z-[100] p-4">
    <div class="pre_wrapper_clear text-center">
      <div class="nda_bar w-24 h-1 bg-pasha-blue mx-auto mb-4 rounded"></div>
      <h1 class="splash_intro font-amaranth text-5xl text-white mb-2">Pasha</h1>
      <h1 class="splash_intro_text text-xl text-gray-300 mb-6">First you need to enable your microphone</h1>
      <button id="startChatButton" class="btn btn-welcome bg-pasha-blue hover:bg-pasha-purple text-white font-semibold py-3 px-8 rounded-lg shadow-lg transition duration-300 ease-in-out transform hover:scale-105">
        ENABLE MICROPHONE
      </button>
  </div>
</div>

<section class="agent-section container-fluid min-h-screen flex flex-col lg:flex-row">
  <div class="agent_left hero_bg1_tailwind flex-grow lg:w-3/5 xl:w-2/3 order-1 lg:order-1 flex flex-col h-screen lg:max-h-screen">
    <div class="horizon_bot flex flex-col flex-grow h-full">
      <div class="msger horizon_hero flex flex-col flex-grow h-full p-0">
        <header class="msger-header-agent bg-black bg-opacity-20 text-white p-4 shadow-md">
          <div class="msger-header-content flex items-center">
            <img src="assets/img/brand/pasha_logo.png" alt="Pasha Logo" class="h-8 mr-3">
            <div id="loader" class="msger-header-options progress ml-auto w-1/4 h-2 bg-pasha-light-gray rounded overflow-hidden">
                <div class="bg-pasha-blue h-full" style="width: 50%;"></div> </div>
            <audio id="audioPlayer" controls class="hidden">Audio Player</audio>
          </div>
        </header>
        <main class="msger-chat-welcome flex-grow p-6 overflow-y-auto chat-scrollbar relative" id="chat-messages">
          <button id="clear-chat-btn" class="clear-chat-button bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-3 rounded-full text-xs shadow-lg transition duration-300" title="Clear Chat" aria-label="Clear chat messages">
            <i class="fas fa-trash-alt"></i>
          </button>
          <!-- Chat messages will be dynamically inserted here by JavaScript -->
        </main>
      </div>
    </div>
  </div>

  <div class="agent_right dotbg_tailwind flex flex-col lg:w-2/5 xl:w-1/3 order-2 lg:order-2 p-6 space-y-6 h-screen lg:max-h-screen overflow-y-auto">
    <div class="agent_screen flex-grow bg-pasha-dark bg-opacity-30 backdrop-blur-sm rounded-xl p-4 shadow-xl min-h-[200px] lg:min-h-[300px] flex flex-col items-center justify-center text-center">
        <div class="agent_controll mb-4 w-full">
            <div class="voice_status text-center p-3 bg-black bg-opacity-20 rounded-lg">
                <span id="voice-action" class="voiceSpan text-xl font-semibold text-gray-200">Ready</span>
            </div>
        </div>

        <div id="tool-call-output" class="tool-call-output w-full flex-grow flex items-center justify-center">
            <p class="text-gray-400 text-lg">Tool outputs will appear here...</p>
            <!-- Placeholder for Meeting Mode Card -->
            <!-- <div id="meetingModeCard" class="hidden bg-white/10 p-4 rounded-lg w-full max-w-md text-left">
                <div class="flex justify-between items-center mb-2">
                    <h3 id="meetingCardTitle" class="text-white text-lg font-semibold">Meeting Title</h3>
                    <button id="openMeetingModalBtn" class="text-pasha-blue hover:text-pasha-purple text-xs" title="View Full Transcript"><i class="fas fa-external-link-alt"></i></button>
                </div>
                <div id="meetingCardTimer" class="text-pasha-blue text-3xl font-bold text-center my-3">00:00:00</div>
                <div id="meetingCardTranscriptPreview" class="text-gray-300 text-xs h-24 overflow-y-auto border border-pasha-gray p-2 rounded" style="font-size: 6pt;">
                    Live transcript will appear here...
                </div>
            </div> -->
        </div>

        <div class="chronicle_mode hidden mt-4 w-full">
            <h3 class="text-lg font-semibold text-white mb-2">Chronicle Mode Active</h3>
            <div class="bg-black bg-opacity-20 p-3 rounded-lg text-gray-300">
                Chronicle entries will be displayed here.
            </div>
        </div>

        <div class="agent_s3 mt-auto pt-4 hidden">
             <p class="text-xs text-gray-500">LLM Selection Area</p>
        </div>
    </div>

    <div class="pasha-nav mt-auto"> <div class="nav-wrap">
        <div class="wrap-top mb-5 flex flex-col items-center space-y-3">
          <button class="push-talk-btn terminal-medium w-full max-w-xs bg-green-500 hover:bg-green-600 text-white font-bold py-4 px-6 rounded-lg text-lg shadow-xl transition duration-300 ease-in-out transform hover:scale-105">
            PUSH TO TALK
          </button>
          <button class="pause-btn terminal-medium w-full max-w-xs bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-3 px-6 rounded-lg text-md shadow-lg transition duration-300 ease-in-out transform hover:scale-105">
            PAUSE
          </button>
        </div>
        <div id="main_buttons" class="wrap-bottom">
          <div class="button-container grid grid-cols-2 sm:grid-cols-2 gap-3">
            <button id="chronicleModeBtn" class="circle-btn terminal-medium bg-pasha-blue hover:bg-pasha-purple text-white font-semibold py-3 px-4 rounded-lg shadow-md transition duration-300 ease-in-out">CHRONICLE</button>
            <button id="schedulerBtn" class="circle-btn terminal-medium bg-pasha-blue hover:bg-pasha-purple text-white font-semibold py-3 px-4 rounded-lg shadow-md transition duration-300 ease-in-out">SCHEDULER</button>
            <button id="meetingBtn" class="circle-btn terminal-medium bg-pasha-blue hover:bg-pasha-purple text-white font-semibold py-3 px-4 rounded-lg shadow-md transition duration-300 ease-in-out">MEETING MODE</button>
            <button id="settingsModeBtn" class="circle-btn terminal-medium bg-pasha-blue hover:bg-pasha-purple text-white font-semibold py-3 px-4 rounded-lg shadow-md transition duration-300 ease-in-out">SETTINGS</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<div id="settingsModal" class="settings-modal fixed inset-0 bg-gray-900 bg-opacity-75 backdrop-blur-sm flex items-center justify-center p-4 hidden">
  <div class="bg-white dark:bg-pasha-dark rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden">
    <div class="settings-modal-header flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700">
      <h2 class="settings-modal-title text-2xl font-amaranth font-bold text-pasha-blue dark:text-pasha-purple">Settings</h2>
      <button id="closeSettingsBtn" class="settings-modal-close text-gray-400 hover:text-red-500 transition duration-150">
        <i class="fas fa-times fa-2x"></i>
      </button>
    </div>
    
    <div class="settings-modal-body grid md:grid-cols-2 gap-6 p-6 overflow-y-auto">
      <div class="settings-column space-y-6">
        <div class="settings-section">
          <h3 class="text-lg font-semibold mb-3 text-gray-700 dark:text-gray-300 border-l-4 border-pasha-blue pl-2">Voice Settings</h3>
          <div class="settings-item space-y-3">
            <div>
              <label for="voiceSelect" class="block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1">Voice:</label>
              <select id="voiceSelect" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-pasha-gray focus:ring-pasha-blue focus:border-pasha-blue">
                <option value="default">Default</option>
                <option value="voice1">Voice 1 (Friendly Female)</option>
                <option value="voice2">Voice 2 (Calm Male)</option>
              </select>
            </div>
            <div>
              <label for="voiceSpeed" class="block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1">Voice Speed:</label>
              <select id="voiceSpeed" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-pasha-gray focus:ring-pasha-blue focus:border-pasha-blue">
                <option value="0.8">Slow</option>
                <option value="1.0" selected>Normal</option>
                <option value="1.2">Fast</option>
              </select>
            </div>
          </div>
        </div>
        
        <div class="settings-section">
          <h3 class="text-lg font-semibold mb-3 text-gray-700 dark:text-gray-300 border-l-4 border-pasha-blue pl-2">Language Settings</h3>
          <div class="settings-item">
            <label for="language" class="block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1">Language:</label>
            <select id="language" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-pasha-gray focus:ring-pasha-blue focus:border-pasha-blue">
              <option value="en-US" selected>English (US)</option>
              <option value="es-ES">Spanish (Español)</option>
              <option value="fr-FR">French (Français)</option>
            </select>
          </div>
        </div>
      </div>
      
      <div class="settings-column space-y-6">
        <div class="settings-section">
          <h3 class="text-lg font-semibold mb-3 text-gray-700 dark:text-gray-300 border-l-4 border-pasha-blue pl-2">Interface Settings</h3>
          <div class="settings-item">
            <label for="theme" class="block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1">Theme:</label>
            <select id="theme" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-pasha-gray focus:ring-pasha-blue focus:border-pasha-blue">
              <option value="light" selected>Light</option>
              <option value="dark">Dark</option>
              <option value="auto">Auto (System)</option>
            </select>
          </div>
        </div>
        
        <div class="settings-section">
          <h3 class="text-lg font-semibold mb-3 text-gray-700 dark:text-gray-300 border-l-4 border-pasha-blue pl-2">Notification Settings</h3>
          <div class="settings-item">
            <label for="notificationSound" class="block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1">Notification Sound:</label>
            <select id="notificationSound" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-pasha-gray focus:ring-pasha-blue focus:border-pasha-blue">
              <option value="default" selected>Default</option>
              <option value="silent">Silent</option>
              <option value="subtle">Subtle</option>
            </select>
          </div>
        </div>
      </div>
    </div>
    
    <div class="settings-footer p-6 border-t border-gray-200 dark:border-gray-700 text-right">
      <button id="saveSettingsBtn" class="btn-save-settings bg-pasha-blue hover:bg-pasha-purple text-white font-semibold py-2 px-6 rounded-lg shadow-md transition duration-300">Save Settings</button>
    </div>
  </div>
</div>

{/* Meeting Transcript Modal */}
<div id="meetingTranscriptModal" class="fixed inset-0 bg-gray-900 bg-opacity-75 backdrop-blur-sm flex items-center justify-center p-4 hidden z-50">
  <div class="bg-white dark:bg-pasha-dark rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col overflow-hidden">
    <div class="flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700">
      <h2 id="meetingModalTitle" class="text-2xl font-amaranth font-bold text-pasha-blue dark:text-pasha-purple">Live Meeting Transcript</h2>
      <button id="closeMeetingTranscriptModalBtn" class="text-gray-400 hover:text-red-500 transition duration-150">
        <i class="fas fa-times fa-2x"></i>
      </button>
    </div>
    <div id="meetingModalTranscriptBody" class="p-6 overflow-y-auto text-sm text-gray-700 dark:text-gray-300" style="font-family: monospace;">
      {/* Full transcript will be loaded here */}
      <p>Transcript loading...</p>
    </div>
    <div class="p-6 border-t border-gray-200 dark:border-gray-700 text-right">
      <button id="copyMeetingTranscriptBtn" class="bg-pasha-blue hover:bg-pasha-purple text-white font-semibold py-2 px-4 rounded-lg shadow-md transition duration-300 text-sm">Copy Transcript</button>
    </div>
  </div>
</div>

<div id="schedulerModal" class="scheduler-modal fixed inset-0 bg-gray-900 bg-opacity-75 backdrop-blur-sm flex items-center justify-center p-4 hidden">
  <div class="bg-white dark:bg-pasha-dark rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden">
    <div class="scheduler-modal-header flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700">
      <h2 class="scheduler-modal-title text-2xl font-amaranth font-bold text-pasha-blue dark:text-pasha-purple">Scheduler</h2>
      <button id="closeSchedulerBtn" class="scheduler-modal-close text-gray-400 hover:text-red-500 transition duration-150">
        <i class="fas fa-times fa-2x"></i>
      </button>
    </div>
    
    <div class="scheduler-tabs flex border-b border-gray-200 dark:border-gray-700 px-6">
      <button id="calendarTab" class="scheduler-tab py-3 px-4 text-center font-semibold border-b-2 border-pasha-blue text-pasha-blue dark:text-pasha-purple dark:border-pasha-purple transition duration-150">Calendar</button>
      <button id="upcomingTab" class="scheduler-tab py-3 px-4 text-center font-semibold text-gray-500 dark:text-gray-400 hover:text-pasha-blue dark:hover:text-pasha-purple border-b-2 border-transparent hover:border-pasha-blue dark:hover:border-pasha-purple transition duration-150">Upcoming</button>
    </div>
    
    <div class="scheduler-modal-body grid lg:grid-cols-5 gap-0 flex-grow overflow-hidden">
      <div id="calendarColumn" class="scheduler-column lg:col-span-3 p-6 space-y-6 overflow-y-auto border-r-0 lg:border-r border-gray-200 dark:border-gray-700">
        <div class="calendar-container bg-gray-50 dark:bg-pasha-gray/50 p-4 rounded-lg shadow">
          <div class="calendar-header flex justify-between items-center mb-4">
            <div class="calendar-nav flex items-center space-x-2">
              <button id="prevMonth" class="calendar-btn p-2 rounded-md hover:bg-gray-200 dark:hover:bg-pasha-light-gray transition"><i class="fas fa-chevron-left"></i></button>
              <h3 class="current-month text-lg font-semibold w-32 text-center">May 2025</h3>
              <button id="nextMonth" class="calendar-btn p-2 rounded-md hover:bg-gray-200 dark:hover:bg-pasha-light-gray transition"><i class="fas fa-chevron-right"></i></button>
            </div>
            <div class="calendar-view-toggle flex space-x-1 bg-gray-200 dark:bg-pasha-light-gray p-1 rounded-md">
              <button class="view-btn px-3 py-1 text-sm rounded-md bg-white dark:bg-pasha-gray text-pasha-blue dark:text-pasha-purple shadow">Month</button>
              <button class="view-btn px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-pasha-gray">Week</button>
              <button class="view-btn px-3 py-1 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-pasha-gray">Day</button>
            </div>
          </div>
          <div class="calendar-grid grid grid-cols-7 gap-1 text-center">
            <div class="calendar-day-header font-semibold text-xs text-gray-500 dark:text-gray-400 py-2">SUN</div>
            <div class="calendar-day-header font-semibold text-xs text-gray-500 dark:text-gray-400 py-2">MON</div>
            <div class="calendar-day-header font-semibold text-xs text-gray-500 dark:text-gray-400 py-2">TUE</div>
            <div class="calendar-day-header font-semibold text-xs text-gray-500 dark:text-gray-400 py-2">WED</div>
            <div class="calendar-day-header font-semibold text-xs text-gray-500 dark:text-gray-400 py-2">THU</div>
            <div class="calendar-day-header font-semibold text-xs text-gray-500 dark:text-gray-400 py-2">FRI</div>
            <div class="calendar-day-header font-semibold text-xs text-gray-500 dark:text-gray-400 py-2">SAT</div>
            <div class="py-2 border border-transparent rounded-md hover:border-pasha-blue dark:hover:border-pasha-purple cursor-pointer">1</div>
            <div class="py-2 border border-transparent rounded-md hover:border-pasha-blue dark:hover:border-pasha-purple cursor-pointer">...</div>
            <div class="py-2 border border-pasha-blue dark:border-pasha-purple bg-pasha-blue/10 dark:bg-pasha-purple/20 rounded-md font-bold cursor-pointer">15</div>
             <div class="py-2 border border-transparent rounded-md text-gray-400 dark:text-gray-600">...</div>
          </div>
        </div>
        
        <div class="scheduler-section">
          <div class="flex justify-between items-center mb-3">
            <h3 class="text-lg font-semibold text-gray-700 dark:text-gray-300 border-l-4 border-pasha-blue pl-2">Create New Event</h3>
            <button id="quickAddBtn" class="text-sm bg-green-500 hover:bg-green-600 text-white font-semibold py-1 px-3 rounded-md transition">Quick Add</button>
          </div>
          <form id="newEventForm" class="space-y-4">
            <div class="scheduler-form-group">
              <label for="eventTitle" class="block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1">Event Title</label>
              <input type="text" id="eventTitle" class="scheduler-form-control w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-pasha-gray focus:ring-pasha-blue focus:border-pasha-blue" placeholder="Enter event title">
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div class="scheduler-form-group">
                <label for="eventDate" class="block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1">Date</label>
                <input type="date" id="eventDate" class="scheduler-form-control w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-pasha-gray focus:ring-pasha-blue focus:border-pasha-blue">
              </div>
              <div class="scheduler-form-group">
                <label for="eventType" class="block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1">Type</label>
                <select id="eventType" class="scheduler-form-control w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-pasha-gray focus:ring-pasha-blue focus:border-pasha-blue">
                  <option value="meeting">Meeting</option>
                  <option value="travel">Travel</option>
                  <option value="personal">Personal</option>
                </select>
              </div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div class="scheduler-form-group">
                <label for="eventStart" class="block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1">Start Time</label>
                <input type="time" id="eventStart" class="scheduler-form-control w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-pasha-gray focus:ring-pasha-blue focus:border-pasha-blue">
              </div>
              <div class="scheduler-form-group">
                <label for="eventEnd" class="block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1">End Time</label>
                <input type="time" id="eventEnd" class="scheduler-form-control w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-pasha-gray focus:ring-pasha-blue focus:border-pasha-blue">
              </div>
            </div>
            <div class="scheduler-form-group">
              <label for="eventLocation" class="block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1">Location</label>
              <input type="text" id="eventLocation" class="scheduler-form-control w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-pasha-gray focus:ring-pasha-blue focus:border-pasha-blue" placeholder="Enter location">
            </div>
            <div class="scheduler-form-group">
              <label for="eventDescription" class="block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1">Description</label>
              <textarea id="eventDescription" class="scheduler-form-control w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-pasha-gray focus:ring-pasha-blue focus:border-pasha-blue" rows="3" placeholder="Enter description"></textarea>
            </div>
            <button type="submit" class="schedule-event-btn w-full bg-pasha-blue hover:bg-pasha-purple text-white font-semibold py-3 px-4 rounded-lg shadow-md transition">Schedule Event</button>
          </form>
        </div>
      </div>
      
      <div id="upcomingColumn" class="scheduler-column lg:col-span-2 p-6 space-y-6 overflow-y-auto bg-gray-50 dark:bg-pasha-gray/30 hidden lg:block">
        <div class="scheduler-section">
          <h3 class="text-lg font-semibold mb-3 text-gray-700 dark:text-gray-300 border-l-4 border-green-500 pl-2">Upcoming Events</h3>
          <ul class="event-list space-y-3">
            <li class="event-item flex items-start p-3 bg-white dark:bg-pasha-gray rounded-lg shadow hover:shadow-md transition">
              <div class="event-indicator meeting w-3 h-3 bg-blue-500 rounded-full mr-3 mt-1.5 shrink-0"></div>
              <div class="event-content">
                <h4 class="event-title font-semibold text-gray-800 dark:text-gray-200">Product Team Meeting</h4>
                <div class="event-time text-xs text-gray-500 dark:text-gray-400"><i class="fas fa-clock event-icon mr-1"></i> May 21, 2025, 10:00 AM - 11:30 AM</div>
                <div class="event-location text-xs text-gray-500 dark:text-gray-400"><i class="fas fa-map-marker-alt event-icon mr-1"></i> Conference Room A</div>
              </div>
            </li>
            <li class="event-item flex items-start p-3 bg-white dark:bg-pasha-gray rounded-lg shadow hover:shadow-md transition">
              <div class="event-indicator travel w-3 h-3 bg-purple-500 rounded-full mr-3 mt-1.5 shrink-0"></div>
              <div class="event-content">
                <h4 class="event-title font-semibold text-gray-800 dark:text-gray-200">Flight to New York</h4>
                <div class="event-time text-xs text-gray-500 dark:text-gray-400"><i class="fas fa-clock event-icon mr-1"></i> May 23, 2025, 2:45 PM - 6:20 PM</div>
                <div class="event-location text-xs text-gray-500 dark:text-gray-400"><i class="fas fa-map-marker-alt event-icon mr-1"></i> SFO to JFK, Flight AA123</div>
              </div>
            </li>
          </ul>
        </div>
        </div>
    </div>
  </div>
</div>

    <script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-functions.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-storage.js"></script>

    <script>
        // Firebase will be initialized in bundle.js
        // This ensures we don't have duplicate initialization
        
        // Auto-hide the microphone enable screen after page load
        document.addEventListener('DOMContentLoaded', function() {
            // Hide the bot_load screen immediately
            const botLoadScreen = document.querySelector('.bot_load');
            if (botLoadScreen) {
                botLoadScreen.style.display = 'none';
                console.log('Bot load screen hidden');
            }
            
            // Alternative: Hook up the Enable Microphone button if you want to keep it
            const startButton = document.getElementById('startChatButton');
            if (startButton) {
                startButton.addEventListener('click', function() {
                    const botLoadScreen = document.querySelector('.bot_load');
                    if (botLoadScreen) {
                        botLoadScreen.style.display = 'none';
                    }
                });
            }
        });
    </script>

    <script src="assets/js/bundle.js"></script>
    <script src="assets/js/animations.js"></script>
    <script src="assets/js/language.js"></script>
    <script src="assets/js/interaction.js"></script>
    <script src="assets/js/pashaHelper.js"></script>
    <script src="assets/js/pashaSecondary.js"></script>
    <script type="module" src="assets/js/meetingController.js"></script>
    <script src="assets/js/schedulerController.js"></script>
    <script type="module" src="assets/js/settings_controller.js"></script>
    <script type="module" src="assets/js/elevenlabs_controller.js"></script>
    <script type="module" src="assets/js/meetingMode.js"></script> {/* Added new meeting mode script */}
    <script type="module">
        // Initialize ElevenLabs Controller after DOM is loaded
        import { ElevenLabsController } from './assets/js/elevenlabs_controller.js';
        
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('Initializing ElevenLabs Controller...');
            window.elevenLabsController = new ElevenLabsController();
            
            try {
                await window.elevenLabsController.init();
                console.log('ElevenLabs Controller initialized successfully');
            } catch (error) {
                console.error('Failed to initialize ElevenLabs Controller:', error);
            }
        });
    </script>
</body>
</html>
